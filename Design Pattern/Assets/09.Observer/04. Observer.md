# 4. 옵저버 (행동 패턴 / Observer)

"객체 사이에 일 대 다의 의존 관계를 정의해 두어, 어떤 객체의 상태가 변할 때 그 객체에 의존성을 가진 다른 객체들이 그 변화를 통지받고 자동으로 갱신될 수 있게 만듭니다."

활용성
- 관련 있는 객체들의 결합도를 높이지 않으면서 일관적인 상태 변화를 구현할 수 있습니다.

구현
- 주체 (Subject): 옵저버들을 관리하는 클래스로, 관리할 옵저버를 등록/해제하거나 감시자에 상태 변화를 통지할 수 있다.
- 감시자 (Observer): 주체에서 발생하는 변화를 관찰하여, 그에 따라 자신의 상태를 변화하는 클래스
- 주체 구현 (Concrete Subject): 주체의 역할을 포함한 클래스로, 자신의 상태 변화에 따라 감시자들에 신호를 보낸다.
- 감시자 구현 (Concrete Observer): 감시자의 역할을 포함한 클래스로, 주체의 상태 변화에 따라 처리할 내용이 정의되어 있다.

활용 예시
- 게임 내에서 시간은 일관성 있게 관리 및 표기되어야 하지만, 모든 UI가 결합되어 있으면 복잡도가 지나치게 높아진다.
- 시간 관리 클래스를 주체로 두고, 시간 표기에 관련된 UI들이 옵저버로서 등록하여 갱신할 수 있게 한다.
  - 유니티의 이벤트 함수 없이 구현할 것

예제 구현
- Observer: IObserver<T> 인터페이스를 구현하고 있다. 갱신 시 OnUpdate(T)로 파라미터를 넘겨받을 수 있다.
- Subject: ISubject<T> 인터페이스를 구현하고 있다. IObserver<T> 옵저버를 등록/해제할 수 있다.
- TimeObserver: 시간에 따라 업데이트를 받을 옵저버로, 갱신 시 IObserver<float>로 이전 갱신으로부터 경과한 시간을 파라미터로 받는다.
- SkillIconHolder: 스킬 아이콘을 UI상으로 표기하는 Concrete Observer로, TimeObserver를 상속받은 컴포넌트 형태로 구현되어 있다.
- TimerSubject: 타이머들을 관리하는 Concrete Subject. 편의상 싱글톤 방식으로 사용한다.
  
