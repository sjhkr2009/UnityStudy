커맨드(Command) 패턴

기존에 lock을 걸고 패킷을 처리하는 방식은, 단시간에 많은 패킷을 처리할 때 문제가 생긴다.
- lock 앞에서 많은 스레드가 대기하고 있게 된다.
- 작업이 잘 처리되지 않으니 스레드가 계속 늘어난다.

커맨드 패턴
- 요청한 작업들을 일정량 저장해 두었다가 한 번에 처리한다.
- 작업 요청이 바로 처리로 이어지지 않고, 요청 기록 - 처리를 분리(일종의 캡슐화)한다.
- 요청된 작업이 기록되므로 취소하거나 이전 상태로 되돌릴 수도 있다.

